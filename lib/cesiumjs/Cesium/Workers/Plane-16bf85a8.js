define(["exports","./when-ca071c93","./Check-802a3f11","./Math-59a6c1e7","./Cartesian2-5bd3176a","./Transforms-2310f912"],function(n,r,a,e,i,s){"use strict";function o(n,a){this.normal=i.Cartesian3.clone(n),this.distance=a}o.fromPointNormal=function(n,a,e){n=-i.Cartesian3.dot(a,n);return r.defined(e)?(i.Cartesian3.clone(a,e.normal),e.distance=n,e):new o(a,n)};var t=new i.Cartesian3;o.fromCartesian4=function(n,a){var e=i.Cartesian3.fromCartesian4(n,t),n=n.w;return r.defined(a)?(i.Cartesian3.clone(e,a.normal),a.distance=n,a):new o(e,n)},o.getPointDistance=function(n,a){return i.Cartesian3.dot(n.normal,a)+n.distance};var c=new i.Cartesian3;o.projectPointOntoPlane=function(n,a,e){r.defined(e)||(e=new i.Cartesian3);var t=o.getPointDistance(n,a),t=i.Cartesian3.multiplyByScalar(n.normal,t,c);return i.Cartesian3.subtract(a,t,e)};var l=new s.Matrix4,C=new s.Cartesian4,f=new i.Cartesian3;o.transform=function(n,a,e){var t=n.normal,n=n.distance,a=s.Matrix4.inverseTranspose(a,l),n=s.Cartesian4.fromElements(t.x,t.y,t.z,n,C),n=s.Matrix4.multiplyByVector(a,n,n),a=i.Cartesian3.fromCartesian4(n,f);return n=s.Cartesian4.divideByScalar(n,i.Cartesian3.magnitude(a),n),o.fromCartesian4(n,e)},o.clone=function(n,a){return r.defined(a)?(i.Cartesian3.clone(n.normal,a.normal),a.distance=n.distance,a):new o(n.normal,n.distance)},o.equals=function(n,a){return n.distance===a.distance&&i.Cartesian3.equals(n.normal,a.normal)},o.ORIGIN_XY_PLANE=Object.freeze(new o(i.Cartesian3.UNIT_Z,0)),o.ORIGIN_YZ_PLANE=Object.freeze(new o(i.Cartesian3.UNIT_X,0)),o.ORIGIN_ZX_PLANE=Object.freeze(new o(i.Cartesian3.UNIT_Y,0)),n.Plane=o});
